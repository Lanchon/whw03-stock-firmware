test("Device List - Applet Tests",function(){RAINIER.jnap.mock({url:"/jnap/devicelist/GetDevices",result:{result:"OK",output:{revision:38,devices:[{deviceID:"0233c10e-4469-40f7-898c-f84c8e5d9f38",lastChangeRevision:35,model:{deviceType:"Computer"},unit:{operatingSystem:"Windows 7"},isAuthority:false,friendlyName:"THDOW-PC",knownMACAddresses:["00:24:81:A2:78:B3"],connections:[{macAddress:"00:24:81:A2:78:B3",ipAddress:"192.168.1.147"}],properties:[],maxAllowedProperties:16},{deviceID:"2a30d9cf-2444-43f8-9ded-c5f3612a29dd",lastChangeRevision:38,model:{deviceType:""},unit:{},isAuthority:false,friendlyName:"android-365729a3cb12abd6",knownMACAddresses:["2C:44:01:C2:7F:14"],connections:[{macAddress:"2C:44:01:C2:7F:14",ipAddress:"192.168.1.146"}],properties:[],maxAllowedProperties:16},{deviceID:"52bb2ad7-4d65-457e-a9fa-7b416c35f42c",lastChangeRevision:27,model:{deviceType:"Computer",manufacturer:"Apple",modelNumber:"MacBook"},unit:{operatingSystem:"OS X"},isAuthority:false,friendlyName:"mgarafut_macbookpro",knownMACAddresses:["00:26:08:E0:FE:F4"],connections:[{macAddress:"00:26:08:E0:FE:F4",ipAddress:"192.168.1.102"}],properties:[],maxAllowedProperties:16},{deviceID:"5b7fdec0-1dd2-11b2-b462-00904c0d0b00",lastChangeRevision:22,model:{deviceType:"Infrastructure",manufacturer:"Cisco Systems, Inc.",modelNumber:"EA6500",hardwareVersion:"1",description:"Simultaneous Dual-Band Wireless-AC Gigabit Router"},unit:{serialNumber:"12N10C67200009",firmwareVersion:"1.1.29.148687",firmwareDate:"2013-02-14T01:39:15Z"},isAuthority:true,friendlyName:"Cisco00009",knownMACAddresses:["20:AA:4B:E0:7E:09"],connections:[{macAddress:"20:AA:4B:E0:7E:09",ipAddress:"192.168.1.1"}],properties:[{name:"lastBandwidthCalibrationDate",value:""},{name:"userDeviceName",value:"Custom Router Name"}],maxAllowedProperties:16},{deviceID:"5f0ff82d-282a-410b-bb9b-3f639a9bc44c",lastChangeRevision:36,model:{deviceType:"Computer"},unit:{operatingSystem:"LINUX"},isAuthority:false,friendlyName:"sea2dev-iMac",knownMACAddresses:["C8:BC:C8:9A:7F:55"],connections:[{macAddress:"C8:BC:C8:9A:7F:55",ipAddress:"192.168.1.111"}],properties:[],maxAllowedProperties:16},{deviceID:"6f1fd809-d8df-4d14-a96f-97a1687a68e3",lastChangeRevision:26,model:{deviceType:""},unit:{},isAuthority:false,knownMACAddresses:["8C:2D:AA:88:91:37"],connections:[{macAddress:"8C:2D:AA:88:91:37",ipAddress:"192.168.1.119"}],properties:[],maxAllowedProperties:16}],deletedDeviceIDs:[]}}});RAINIER.jnap.mock({url:"/jnap/networkconnections/GetNetworkConnections",result:{result:"OK",output:{connections:[{macAddress:"00:24:81:A2:78:B3",negotiatedMbps:1000},{macAddress:"2C:44:01:C2:7F:14",negotiatedMbps:1,wireless:{bssid:"20:AA:4B:E0:7E:0C",isGuest:false,band:"5GHz",signalDecibels:76}},{macAddress:"C8:BC:C8:9A:7F:55",negotiatedMbps:1000}]}}});RAINIER.unittest.loadFile("../../dynamic/applets/device_list/main.html",function(a){a='<div id="dialog-overlay" class="dialog-overlay"></div><div id="dialog-cache" style="display: none" class="text-orphan"></div></div><div id="components"><div id="generic-dialog-wrapper"></div></div><script>yepnope = function() {}<\/script>'+a;RAINIER.unittest.setSandbox(a);RAINIER.unittest.loadScript("rainier/static/applets/device_list/js/device-list.js",function(){var h=$("#device-list");var e=RAINIER.ui.dialog("#device-info");var g=h.find(".device-container").length;var f=e.isShowing();h.find(".device-container").eq(0).click();var d=e.isShowing();var c=$("#device-info").find("#device-name h1").text();$("#device-info .cancel").click();var b=e.isShowing();h.find(".device-container").eq(1).click();var i=$("#device-info").find("#device-name h1").text();ok(g,"6 Devices exist in UL#device-list");equal(f,false,"Initial - #device-info dialog is closed");equal(d,true,"Click on first Device - #device-info dialog is now open");equal(c,"android-365729a3cb12abd6",'Dialog population - #device-info dialog has Device Name as "android-365729a3cb12abd6"');equal(b,false,'Click on "Cancel" Button - #device-info dialog is now closed');equal(i,"Custom Router Name",'Click on 2nd Device - Dialog population - #device-info dialog has Device Name as "Custom Router Name"')})})});