window.RAINIER=window.RAINIER||{};RAINIER.shared=RAINIER.shared||{};RAINIER.shared.account=RAINIER.shared.account||(function(){return{verifyReason:{alreadyUpdated:"alreadyUpdated",unhandled:"unhandled"},verify:function(b,a,c){a=(typeof a!=="function")?function(){return false}:a;c=(typeof c!=="function")?function(){return false}:c;var e=RAINIER.shared.account.verifyReason;var d={};d.verification={};d.verification.status="ACCEPTED";d.verification.parameters=[];RAINIER.cloud.send({url:"/cloud/user-service/rest/verifications/"+b+"/status/",type:"PUT",data:d,cb:a,cbError:function(f){var g=RAINIER.util.parseJSON(f.responseText);if(g&&g.errors[0].error.code==="VERIFICATION_STATUS_ALREADY_UPDATED"){return c(e.alreadyUpdated)}else{return c(e.unhandled)}}})}}}());RAINIER.shared.pingTests=(function(){var a={url:"http://connect.linksys.com/test.js",dataType:"script",init:function(){window.CISCO=window.CISCO||{};RAINIER.connectLinksysAnswer=0;window.CISCO.connectLinksysAnswer=0},test:function(){var e=RAINIER.connectLinksysAnswer||window.CISCO.connectLinksysAnswer;return e>0}};var b={url:"/cloud/ping.png",test:function(e){var f=/content-type:\s+image\/png/i;return f.test(e.getAllResponseHeaders())}};var c=[];c.push(b);if(!/https/i.test(window.location.protocol)){c.push(a)}function d(k,m,h){var g=window.$ajax||$.ajax,f=0,l=0;function e(i){return function(n){if(n.status===200){if(i.test(n)){f++;m(i,f,l)}else{l++;h(i,f,l)}}else{l++;h(i,f,l)}}}for(var j=0;j<k.length;j++){if(k[j].init){k[j].init()}g({url:RAINIER.shared.util.uniqueURL(k[j].url),dataType:k[j].dataType,timeout:15000,complete:e(k[j])})}}return{allTests:c,start:d}}());RAINIER.shared.util=RAINIER.shared.util||(function(){var v=/\%[0-9][0-9]/,f=/_[0-9]+$/;function c(B){var x,z,A=document.cookie.split(";");for(var y=0;y<A.length;y++){x=A[y].substr(0,A[y].indexOf("="));z=A[y].substr(A[y].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x===B){return decodeURIComponent(z)}}}function u(D,E,C,G,A){var x=new Date();x.setDate(x.getDate()+C);var y=encodeURIComponent(E);var z=((!C)?"":"; expires="+x.toUTCString());var B=(!G)?"":"; path="+G;var F=(!A)?"":"; domain="+A;document.cookie=D+"="+y+z+B+F}function h(y,x){u(y,"",-1,"/",x)}function i(){u("are_cookies_enabled","enabled",null,"/");if(c("are_cookies_enabled")==="enabled"){h("are_cookies_enabled");return true}else{return false}}function s(){h("ui-proxy-path","."+window.location.host);h("ui-proxy-path")}function e(y){var x=encodeURIComponent(y).match(/%[89ABab]/g);return y.length+(x?x.length:0)}function p(z,x){var A=z.substring(0,z.length),B=e(A);for(var y=z.length-1;y>=0&&B>x;y--){A=z.substring(0,y);B=e(A)}return A}function l(y,z,x){if(y.addEventListener){y.addEventListener(z,x)}else{if(y.attachEvent){y.attachEvent("on"+z,x)}}}function a(A,y){var x="";function z(){x=A.value;if(RAINIER.shared.util.lengthInBytes(x)>y){A.value=RAINIER.shared.util.truncateToMaxBytes(x,y)}}l(A,"keyup",z);l(A,"blur",z)}function w(B,A,y,z){var x={action:"/jnap/ui/SetRemoteSetting",data:{isEnabled:A},cb:function(C){if(C.result==="OK"){if(typeof y==="function"){setTimeout(y,2500)}}}};if(z&&z.forceLocal){x.forceLocal=z.forceLocal}if(z&&z.disableDefaultAjaxErrHandler){x.disableDefaultAjaxErrHandler=z.disableDefaultAjaxErrHandler}if(z&&z.disableDefaultJnapErrHandler){x.disableDefaultJnapErrHandler=z.disableDefaultJnapErrHandler}B.send(x)}function o(x){RAINIER.jnap.send({action:"/jnap/core/IsAdminPasswordDefault",data:{},cb:function(z,y){if(z.result==="OK"){if(z.output.isAdminPasswordDefault){RAINIER.jnap.send({action:"/jnap/nodes/setup/IsAdminPasswordSetByUser",data:{},cb:function(B,A){if(B.result==="OK"){x(B.output.isAdminPasswordSetByUser)}else{}}})}else{x(true)}}else{}}})}function q(y,x){RAINIER.jnap.send({action:"/jnap/devicelist/GetDevices",data:{},cb:function(A){if(A.result==="OK"){var z=A.output.devices;for(var B=0;B<z.length;B++){if(z[B].isAuthority){y(z[B]);break}}}},disableDefaultJnapErrHandler:true,disableDefaultAjaxErrHandler:true,useAdminAuth:true,adminPasswordOverride:"Basic "+window.btoa("admin:"+x)})}function n(x,z){var y=(new RegExp(x+"=(.+?)(&|$)").exec(z.split("#")[0])||[,null])[1];return y?decodeURIComponent(y):y}function t(x){return n(x,location.search)}function k(x,B){var y=new RegExp("("+x+"=).*?(&|$)"),A=window.location.href,z=A.replace(y,"$1"+B+"$2");return z}function r(D){var C=RAINIER.jnapCache.get(RAINIER.jnapActions.getDeviceInfo());if(!C||!C.services){return false}var x=true,B,A,z,y;for(B=0;B<D.length&&x;B++){z=false;for(A=0;A<C.services.length;A++){y=C.services[A].replace("http://cisco.com","").replace("http://linksys.com","");if(D[B]===y){z=true;break}}x=x&&z}return x}function d(D,G){var C=null,x=null,A=[],E,y=false,B=0;for(B=0;B<D.radios.length;B++){x=D.radios[B];if(x.band==="6GHz"){y=true}if(!A[x.band]){A[x.band]=1}else{A[x.band]+=1}if(!C&&x.radioID===G){C=RAINIER.shared.util.clone(x);C.labels={}}}if(D.isBandSteeringEnabled){if(D.bandSteeringMode==="TriBand"){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bandSteering.TriBand)}if(D.bandSteeringMode==="Basic"){if(C.band==="5GHz"){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bandSteering.Basic)}else{if(C.band==="2.4GHz"){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["2.4"])}}}}else{if(RAINIER.network.isBehindNode()&&window.location.hash!=="#casupport"&&RAINIER.connect.getCurrentAppletId()!=="CD34B015-6EA6-4FE3-89CA-B47B6F18EF92"){if(D.combineNetworks){if(y){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.velop.threeRadios)}else{C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.velop.twoRadios)}}else{if(C.band==="2.4GHz"){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["2.4"])}else{if(C.band==="5GHz"){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["5"])}else{if(C.band==="6GHz"){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["6"])}}}}}else{if(C.band==="2.4GHz"){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["2.4"])}else{if(C.band==="5GHz"){if(A[C.band]>1){var F=1,z="";E=C.radioID.match(f);C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["5-indexed"]);if(E){F=E.toString().substr(1)}for(B=0;B<RAINIER.ui.shared.radioLabelSet.length;B++){z=RAINIER.ui.shared.radioLabelSet[B];C.labels[z]=C.labels[z].replace("{0}",F)}}else{C.labels=RAINIER.ui.shared.strings.bands["5"]}}else{if(C.band==="6GHz"){C.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["6"])}}}}}return C}function j(x){RAINIER.jnap.send({action:RAINIER.jnapActions.getDeviceInfo(),data:{},cb:function(z){var y=false;if(z.result==="OK"){y=_.find(z.output.services,function(A){return A.indexOf("/jnap/nodes/")!==-1})}x(!!y)},disableDefaultAjaxErrHandler:true})}function b(y,x){var B="/jnap/core/CheckAdminPassword",A={};function z(C){RAINIER.ui.hideWaiting();x(C)}if(RAINIER.shared.util.areServicesSupported(["/jnap/core/Core7"])){B+="3";A={adminPassword:y}}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/core/Core2"])){B+="2";A={adminPassword:y}}}RAINIER.jnap.send({action:B,data:A,cb:z,disableDefaultJnapErrHandler:true,useAdminAuth:true,adminPasswordOverride:"Basic "+window.btoa("admin:"+y)})}function m(A,y){var z={email:A,password:y},x=true;if(!validation.checkRuleSet(validation.ruleSetInterop.cloudAccountCreateNewPassword,y)||!validation.rule.noEmailInPassword.fn(z)){x=false}return x}return{getCiscoHNClientID:function(){return"BB426FA7-16A9-5C1C-55AF-63A4167B26AD"},getCurrentNetworkID:function(){return c("current-network-id")?c("current-network-id"):null},setCurrentNetworkID:function(x){return u("current-network-id",x,null,"/")},clearUIProxyPathCookie:s,setUIProxyPathCookie:function(x){h("ui-proxy-path","."+window.location.host);u("ui-proxy-path",x,null,"/")},signOutCookies:function(){h("admin-auth");h("user-auth-token");h("current-network-id");h("current-applet");s()},toCamelCase:function(x){return x&&x.replace(/\b([a-z])/ig,function(y){return y.toUpperCase()}).replace(/\W/g,"").replace(/^([a-z])/i,function(y){return y.toLowerCase()})},isAlphaNumeric:function(y){for(var x=0;x<y.length;x++){if(/[a-zA-Z0-9]/.test(y.charAt(x))===false){return false}}return true},isAscii:function(z){for(var x=0;x<z.length;x++){var y=z.charCodeAt(x);if(y<32||y>126){return false}}return true},isValidEmail:function(x){return null!==x.match(/^[0-9a-z$&'*+-=^_`.{|}~]+@[0-9a-z.-]+\.[a-z]{2,4}$/i)},lengthInBytes:e,truncateToMaxBytes:p,limitUTF8Field:a,ssidAppend:function(z,y){var x=32-(e(y));return p(z,x)+y},formatGuestSsid:function(y,x){return RAINIER.shared.util.ssidAppend(y,"-"+x)},getURLParameterFromQueryString:n,getURLParameter:t,replaceURLParameter:k,getEncodedURLParameter:function(x){var y=0,z=t(x);while(v.test(z)){z=decodeURIComponent(z);if(y===10){break}y++}return z},beginsOrEndsWithSpace:function(x){if(x.charAt(0)===" "||x.charAt(x.length-1)===" "){return true}return false},isAdminPasswordValid:function(x){if(x.length<1||x.length>64||!RAINIER.shared.util.isAscii(x)||RAINIER.shared.util.beginsOrEndsWithSpace(x)){return false}return true},clone:function(x){return JSON.parse(JSON.stringify(x))},uniqueURL:function g(x){return x+"?"+(new Date()).getTime()},getCookie:c,setCookie:u,deleteCookie:h,areCookiesEnabled:i,areServicesSupported:r,decodeHtml:function(y){var x=document.createElement("div");x.innerHTML=y;return x.firstChild.nodeValue},setRemoteSetting:w,checkIfNodeConfigured:o,getCurrentAuthorityDevice:q,getLabeledRadio:d,checkIsBehindNode:j,checkAdminPassword:b,isCloudPasswordValid:m}}());RAINIER.jnapCache=(function(){var a={};function b(d){return a[d]}function c(d,e){a[d]=e}return{get:b,set:c}}());RAINIER.jnapActions=(function(){function z(){if(RAINIER.shared.util.areServicesSupported(["/jnap/core/Core7"])){return"/jnap/core/SetAdminPassword3"}if(RAINIER.shared.util.areServicesSupported(["/jnap/core/Core3"])){return"/jnap/core/SetAdminPassword2"}return"/jnap/core/SetAdminPassword"}function w(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router10"])){return"/jnap/router/GetWANSettings5"}if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router8"])){return"/jnap/router/GetWANSettings4"}if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router3"])){return"/jnap/router/GetWANSettings2"}return"/jnap/router/GetWANSettings"}function i(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router8"])){return"/jnap/router/SetWANSettings4"}if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router4"])){return"/jnap/router/SetWANSettings3"}if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router3"])){return"/jnap/router/SetWANSettings2"}return"/jnap/router/SetWANSettings"}function q(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router5"])){return"/jnap/router/GetWANStatus3"}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router3"])){return"/jnap/router/GetWANStatus2"}}return"/jnap/router/GetWANStatus"}function p(){if(RAINIER.network.isGamingPrioritizationSupported()){return"/jnap/gamingprioritization/GetGamingPrioritizationSettings"}return"/jnap/qos/GetQoSSettings"}function m(){if(RAINIER.network.isGamingPrioritizationSupported()){return"/jnap/gamingprioritization/SetGamingPrioritizationSettings"}return"/jnap/qos/SetQoSSettings"}function u(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router5"])){return"/jnap/router/GetIPv6Settings2"}return"/jnap/router/GetIPv6Settings"}function y(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router5"])){return"/jnap/router/SetIPv6Settings2"}return"/jnap/router/SetIPv6Settings"}function t(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/broadcom/RouterBroadcom"])){return"/jnap/router/broadcom/GetCTFSettings"}return"/jnap/router/GetCTFSettings"}function s(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/broadcom/RouterBroadcom"])){return"/jnap/router/broadcom/SetCTFSettings"}return"/jnap/router/SetCTFSettings"}function j(){return"/jnap/router/GetExpressForwardingSettings"}function g(){return"/jnap/router/SetExpressForwardingSettings"}function n(){return"/jnap/router/GetRoutingSettings"}function x(){return"/jnap/router/SetRoutingSettings"}function l(){if(RAINIER.shared.util.areServicesSupported(["/jnap/networkconnections/NetworkConnections2"])){return"/jnap/networkconnections/GetNetworkConnections2"}return"/jnap/networkconnections/GetNetworkConnections"}function h(){return"/jnap/core/GetDeviceInfo"}function d(){if(RAINIER.shared.util.areServicesSupported(["/jnap/devicelist/DeviceList4"])){return"/jnap/devicelist/GetDevices3"}return"/jnap/devicelist/GetDevices"}function B(){if(RAINIER.shared.util.areServicesSupported(["/jnap/wirelessap/WirelessAP4"])){return"/jnap/wirelessap/GetRadioInfo3"}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/wirelessap/WirelessAP3"])){return"/jnap/wirelessap/GetRadioInfo2"}}return"/jnap/wirelessap/GetRadioInfo"}function c(){if(RAINIER.shared.util.areServicesSupported(["/jnap/guestnetwork/GuestNetwork4"])){return"/jnap/guestnetwork/GetGuestRadioSettings2"}if(RAINIER.shared.util.areServicesSupported(["/jnap/guestnetwork/GuestNetwork3"])){return"/jnap/guestnetwork/GetGuestRadioSettings"}return"/jnap/guestnetwork/GetGuestNetworkSettings"}function f(){if(RAINIER.shared.util.areServicesSupported(["/jnap/guestnetwork/GuestNetwork4"])){return"/jnap/guestnetwork/SetGuestRadioSettings2"}if(RAINIER.shared.util.areServicesSupported(["/jnap/guestnetwork/GuestNetwork3"])){return"/jnap/guestnetwork/SetGuestRadioSettings"}return"/jnap/guestnetwork/SetGuestNetworkSettings"}function b(){if(RAINIER.shared.util.areServicesSupported(["/jnap/wirelessap/WirelessAP4"])){return"/jnap/wirelessap/SetRadioSettings3"}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/wirelessap/WirelessAP3"])){return"/jnap/wirelessap/SetRadioSettings2"}}return"/jnap/wirelessap/SetRadioSettings"}function r(){if(RAINIER.shared.util.areServicesSupported(["/jnap/ddns/DDNS3"])){return"/jnap/ddns/GetDDNSStatus2"}return"/jnap/ddns/GetDDNSStatus"}function v(){if(RAINIER.shared.util.areServicesSupported(["/jnap/routermanagement/RouterManagement2"])){return"/jnap/routermanagement/GetManagementSettings2"}return"/jnap/routermanagement/GetManagementSettings"}function a(){if(RAINIER.shared.util.areServicesSupported(["/jnap/routermanagement/RouterManagement2"])){return"/jnap/routermanagement/SetManagementSettings2"}return"/jnap/routermanagement/SetManagementSettings"}function A(){if(RAINIER.shared.util.areServicesSupported(["/jnap/vlantagging/VLANTagging3"])){return"/jnap/vlantagging/GetVLANTaggingSettings3"}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/vlantagging/VLANTagging2"])){return"/jnap/vlantagging/GetVLANTaggingSettings2"}}return"/jnap/vlantagging/GetVLANTaggingSettings"}function e(){if(RAINIER.shared.util.areServicesSupported(["/jnap/vlantagging/VLANTagging3"])||RAINIER.shared.util.areServicesSupported(["/jnap/vlantagging/VLANTagging2"])){return"/jnap/vlantagging/SetVLANTaggingSettings2"}return"/jnap/vlantagging/SetVLANTaggingSettings"}function k(){if(RAINIER.shared.util.areServicesSupported(["/jnap/nodes/topologyoptimization/TopologyOptimization2"])){return"/jnap/nodes/topologyoptimization/GetTopologyOptimizationSettings2"}return"/jnap/nodes/topologyoptimization/GetTopologyOptimizationSettings"}function o(){if(RAINIER.shared.util.areServicesSupported(["/jnap/nodes/topologyoptimization/TopologyOptimization2"])){return"/jnap/nodes/topologyoptimization/SetTopologyOptimizationSettings2"}return"/jnap/nodes/topologyoptimization/SetTopologyOptimizationSettings"}return{setAdminPassword:z,getCTFSettings:t,setCTFSettings:s,getExpressForwardingSettings:j,setExpressForwardingSettings:g,getWANSettings:w,setWANSettings:i,getWANStatus:q,getQoSSettings:p,setQoSSettings:m,getIPv6Settings:u,setIPv6Settings:y,getRoutingSettings:n,setRoutingSettings:x,getNetworkConnections:l,getDeviceInfo:h,getDevices:d,getRadioInfo:B,setRadioSettings:b,getGuestRadioSettings:c,setGuestRadioSettings:f,getDDNSStatus:r,getManagementSettings:v,setManagementSettings:a,getVLANTaggingSettings:A,setVLANTaggingSettings:e,getTopologyOptimizationSettings:k,setTopologyOptimizationSettings:o}}());